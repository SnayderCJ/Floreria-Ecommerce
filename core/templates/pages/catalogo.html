{% extends 'base.html' %}

{% block content %}
<div class="text-center mb-5">
    <h2 class="fw-bold">Nuestro Cat√°logo üíê</h2>
    <p class="text-muted">Encuentra el detalle perfecto para cada ocasi√≥n</p>
</div>

<div class="d-flex justify-content-center flex-wrap gap-2 mb-5">
    <a href="{% url 'catalogo' %}" class="btn btn-outline-secondary rounded-pill">Todos</a>
    {% for cat in categorias %}
        <a href="{% url 'catalogo' %}?categoria={{ cat.id }}" class="btn btn-outline-secondary rounded-pill">
            {{ cat.nombre }}
        </a>
    {% endfor %}
</div>

<div class="row g-4">
    {% for producto in productos %}
    <div class="col-6 col-md-4 col-lg-3">
        <div class="card card-arreglo h-100 shadow-sm">
            <div class="position-relative">
                <img src="{{ producto.imagen.url }}" class="card-img-top" style="height: 250px; object-fit: cover;">
                <span class="position-absolute top-0 end-0 bg-white m-2 px-2 py-1 rounded-pill small fw-bold shadow-sm">
                    ${{ producto.precio_base }}
                </span>
            </div>
            <div class="card-body">
                <h6 class="fw-bold">{{ producto.nombre }}</h6>
                <p class="small text-muted text-truncate">{{ producto.descripcion }}</p>
                <div class="d-grid gap-2">
                    <a href="{{ producto.whatsapp_link }}" target="_blank" class="btn btn-success rounded-pill btn-sm">
                        <i class="fab fa-whatsapp"></i> Pedir ahora
                    </a>
                    <a href="{% url 'detalle' producto.pk %}" class="btn btn-light rounded-pill btn-sm text-muted">Detalles</a>
                </div>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-12 text-center py-5">
        <p class="text-muted">No encontramos productos en esta categor√≠a.</p>
    </div>
    {% endfor %}
</div>
{% endblock %}